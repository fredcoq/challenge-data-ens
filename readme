import pandas as pd
from jours import holydays, summer_winter_time
x_train=pd.read_csv('training_input_qFI2jug.csv', index_col='Horodate_UTC')

# x_train.at[0, 'Horodate_UTC'] = '13/10/2013 22:30:55'
# x_train['datetime'] = pd.to_datetime(x_train['Horodate_UTC'], format="%d/%m/%Y %H:%M")
# x_train = x_train.set_index('datetime')
# 
# x_train.drop(['Horodate_UTC'], axis=1, inplace=True)

changeover = summer_winter_time(x_train)

changeover.split()

summer_time = changeover.summer_time()
summer_time.head()

winter_time = changeover.winter_time()
winter_time.head()

date = holydays()
date.set_extradaysoff(True) # pour g√©rer les ponts
date.Dataframe(summer_time)
date.split()

summer_time_workday_df = date.business_days()
summer_time_workday_df.head(20)

summer_time_dayoff_df = date.public_holiday()
summer_time_dayoff_df.head(20)

date.Dataframe(winter_time)
date.split()

winter_time_workday_df = date.business_days()
winter_time_workday_df.head(20)

winter_time_dayoff_df = date.public_holiday()
winter_time_dayoff_df.head(20)

date.Dataframe(x_train) # je genere un clone du df pour prophet
df_prophet = date.prophet()
